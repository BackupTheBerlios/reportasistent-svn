
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>Systém AR2NL</title>
      <link rel="stylesheet" href="main.css" type="text/css"></link>
      <meta name="generator" content="DocBook XSL Stylesheets V1.62.2"></meta>
   </head>
   <body>
      <div class="article" lang="cs">
         <div class="titlepage">
            <div>
               <div>
                  <h1 class="title"><a id="d0e1"></a>Systém AR2NL
                  </h1>
               </div>
               <div>
                  <h3 class="subtitle"><i>Programátorská dokumentace</i></h3>
               </div>
               <div>
                  <div class="authorgroup">
                     <div class="author">
                        <h3 class="author"><span class="firstname">Zdenìk</span> <span class="surname">Èerný</span></h3><tt class="email">&lt;<a href="mailto:cernyz@vse.cz">cernyz@vse.cz</a>&gt;</tt></div>
                     <div class="author">
                        <h3 class="author"><span class="firstname">Petr</span> <span class="surname">Strossa</span></h3><tt class="email">&lt;<a href="mailto:kizips@vse.cz">kizips@vse.cz</a>&gt;</tt></div>
                  </div>
               </div>
            </div>
            <div></div>
            <hr></hr>
         </div>
         <div class="toc">
            <p><b>Obsah</b></p>
            <dl>
               <dt><span class="sect1"><a href="#sec.uvod">1. Úvod</a></span></dt>
               <dt><span class="sect1"><a href="#sec.prerequisite">2. Zásadní pøedpoklady a omezení</a></span></dt>
               <dt><span class="sect1"><a href="#sec.deployment">3. Adresáøová struktura aplikace</a></span></dt>
               <dt><span class="sect1"><a href="#sec.data">4. Datové soubory</a></span></dt>
               <dt><span class="sect1"><a href="#sec.rule">5. Asociaèní pravidlo</a></span></dt>
               <dt><span class="sect1"><a href="#sec.4ftar2nl">6. Procedura 4ftAR2NL</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="#sec.io">6.1. Vstupy a výstupy</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.alg">6.2. Algoritmus procedury 4ftAR2NL</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.globalarch">6.3. Globální architektura</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="#sec.transform">7. Transformace pravidla</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="#sec.transform.io">7.1. Vstupy a výstupy</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.transform.alg">7.2. Algoritmus transformace</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.transform.phase">7.3. Fáze pøevodu</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="#sec.ex">8. Program Expressions</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="#sec.ex.io">8.1. Vstupy a výstupy</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.ex.alg">8.2. Algoritmus</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.ex.globalarch">8.3. Globální architektura</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="sect1"><a href="#sec.class">9. Pøehled tøíd</a></span></dt>
               <dd>
                  <dl>
                     <dt><span class="sect2"><a href="#sec.class.arule">9.1. Tøída ARule</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.category">9.2. Tøída Category</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.cedent">9.3. Tøída Cedent</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.coeff">9.4. Tøída Coefficient</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.db">9.5. Tøída DB</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.literal">9.6. Tøída Literal</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.metabase">9.7. Tøída Metabase</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.param">9.8. Tøída Param</a></span></dt>
                     <dt><span class="sect2"><a href="#sec.class.quantity">9.9. Tøída Quantity</a></span></dt>
                  </dl>
               </dd>
               <dt><span class="appendix"><a href="#d0e4537">A. DTD pro lingvistická data</a></span></dt>
               <dt><span class="appendix"><a href="#d0e4544">B. DTD pro asociaèní pravidlo</a></span></dt>
            </dl>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.uvod"></a>1. Úvod
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Systém AR2NL umí pøevádìt asociaèní pravidla (<span class="acronym">AR</span>
               – Association Rules) do pøirozeného jazyka (<span class="acronym">NL</span> –
               Natural Language).
            </p>
            <p>
               Napøíklad asociaèní pravidlo (ve tvaru poskytovaném systémem LISp-Miner)
               
               
            </p><pre class="programlisting">
Vzdelani(VŠ) &#8743; Zodpov(øídící pracovník) &#8658;<sub>0.93, 37</sub> Aktzam(mírná)
</pre><p>
               lze vyjádøit v&nbsp;pøirozeném jazyce takto:
               
            </p>
            <div class="blockquote">
               <blockquote class="blockquote">
                  <p>
                     37, tj. 93&nbsp;% pacientù potvrzuje tuto závislost: jestliže pacient
                     absolvoval vysokou školu a zastává øídící funkci, pak také v&nbsp;zamìstnání
                     pøevážnì sedí.
                  </p>
               </blockquote>
            </div>
            <p>Celý systém AR2NL tvoøí tøi programy:</p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p><tt class="filename">4ftAR2NL.exe</tt> – ukládá hypotézu do XML
                        souboru, volá dávkový soubor <tt class="filename">transform.bat</tt>.
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">transform.bat</tt> – provádí samotný pøevod
                        pravidla do pøirozeného jazyka pomocí XSLT transformací.
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">expressions.exe</tt> – pomocný soubor, který
                        generuje z&nbsp;údajù uložených v&nbsp;metabázi systému LISp-Miner šablonu
                        datového souboru <tt class="filename">elementary.xml</tt>.
                     </p>
                  </li>
               </ul>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.prerequisite"></a>2. Zásadní pøedpoklady a omezení
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Zásadní pøedpoklady a omezení jsou následující:</p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p>Jako programovací jazyk byl zvolen jazyk C++.</p>
                  </li>
                  <li>
                     <p>Programy <span class="application">4ftAR2NL</span> a 
                        <span class="application">Expressions</span> byly napsány a zkompilovány
                        v&nbsp;prostøedí <a href="http://www.bloodshed.net/" target="_top">Dev-C++</a>.
                     </p>
                  </li>
                  <li>
                     <p>Pøi transformaci se používá XSLT procesor
                        <a href="http://xmlsoft.org/XSLT/" target="_top">xsltproc</a>.
                     </p>
                  </li>
                  <li>
                     <p>Programy <span class="application">4ftAR2NL</span> a 
                        <span class="application">Expressions</span> vyžadují ke své èinnosti dynamickou
                        knihovnu <tt class="filename">iconv.dll</tt>.
                     </p>
                  </li>
                  <li>
                     <p>Do tabulky <span class="database">tpParamsDB</span> pøibyly
                        tøi nové øádky (parametry):
                     </p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p><i class="parameter"><tt>4ftAR2NL_Domain</tt></i> – jméno adresáøe
                                 s&nbsp;doménovými daty,
                              </p>
                           </li>
                           <li>
                              <p><i class="parameter"><tt>4ftAR2NL_Express</tt></i> – jméno adresáøe
                                 s&nbsp;elementárními výrazy,
                              </p>
                           </li>
                           <li>
                              <p><i class="parameter"><tt>4ftAR2NL_Lang</tt></i> – kód jazyka, do
                                 kterého probíhá pøevod.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </li>
                  <li>
                     <p>Souèasná verze systému umí pøevádìt pouze pravidla, která
                        splòují následující podmínky:
                     </p>
                     <div class="itemizedlist">
                        <ul type="circle">
                           <li>
                              <p>Kvantifikátor pravidla musí být typu „<span class="quote">Above average</span>“
                                 nebo „<span class="quote">Founded implication</span>“.
                              </p>
                           </li>
                           <li>
                              <p>Maximální a minimální délka koeficientu musí být
                                 rovna&nbsp;1 a
                              </p>
                           </li>
                           <li>
                              <p>typ koeficientu musí být „<span class="quote">Subset</span>“ nebo
                                 „<span class="quote">One category</span>“.
                              </p>
                           </li>
                           <li>
                              <p>Pøípadné podmínky (conditions) se zatím ingnorují.</p>
                           </li>
                        </ul>
                     </div>
                  </li>
               </ul>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.deployment"></a>3. Adresáøová struktura aplikace
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Aplikace obsahuje následující soubory:</p>
            <p><tt class="filename">Koøenový adresáø:</tt></p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="filename">bin</tt></span></dt>
                  <dd>
                     <p>V&nbsp;adresáøi jsou uloženy všechny „<span class="quote">*.exe</span>“,
                        „<span class="quote">*.bat</span>“ a „<span class="quote">*.dll</span>“ soubory. Zde je umístìn
                        i&nbsp;XSLT procesor
                        <span class="application"><a href="http://xmlsoft.org/XSLT/" target="_top">xsltproc</a></span>.
                        
                     </p>
                     <div class="variablelist">
                        <dl>
                           <dt><span class="term"><tt class="filename">4ftAR2NL.exe</tt></span></dt>
                           <dd>
                              <p>Program uloží pravidlo do XML souboru a spustí pøevod
                                 	asociaèního pravidla do pøirozeného jazyka (<tt class="filename">transform.bat</tt>).
                                 	
                              </p>
                           </dd>
                           <dt><span class="term"><tt class="filename">expressions.exe</tt></span></dt>
                           <dd>
                              <p>Program vygeneruje na základì dat z&nbsp;metabáze systému
                                 	LISp-Miner šablonu datového souboru <tt class="filename">elementary.xml</tt>, který
                                 	obsahuje tzv. „<span class="quote">elementární výrazy</span>“.
                                 	
                              </p>
                           </dd>
                           <dt><span class="term"><tt class="filename">transform.bat</tt></span></dt>
                           <dd>
                              <p>Soubor spustí pøevod asociaèního pravidla do pøirozeného
                                 	jazyka s&nbsp;využitím XSLT procesoru <span class="application">xsltproc</span>.
                                 	
                              </p>
                           </dd>
                        </dl>
                     </div>
                  </dd>
                  <dt><span class="term"><tt class="filename">data</tt></span></dt>
                  <dd>
                     <p>Datové XML soubory (viz <a href="#sec.data">Datové soubory</a>).
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">docs</tt></span></dt>
                  <dd>
                     <p>Dokumentace k&nbsp;systému AR2NL.</p>
                  </dd>
                  <dt><span class="term"><tt class="filename">dtd</tt></span></dt>
                  <dd>
                     <p>DTD soubory + XML katalog.</p>
                     <div class="variablelist">
                        <dl>
                           <dt><span class="term"><tt class="filename">ar2nl-x.x.dtd</tt></span></dt>
                           <dd>
                              <p>DTD pro datové soubory.</p>
                           </dd>
                           <dt><span class="term"><tt class="filename">rule-x.x.dtd</tt></span></dt>
                           <dd>
                              <p>DTD pro asociaèní pravidlo.</p>
                           </dd>
                           <dt><span class="term"><tt class="filename">catalog.xml</tt></span></dt>
                           <dd>
                              <p>XML katalog.</p>
                           </dd>
                        </dl>
                     </div>
                  </dd>
                  <dt><span class="term"><tt class="filename">output</tt></span></dt>
                  <dd>
                     <p>Výstupní soubory.</p>
                  </dd>
                  <dt><span class="term"><tt class="filename">param</tt></span></dt>
                  <dd>
                     <p>Do tohoto adresáøe se ukládají XML soubory
                        s&nbsp;parametry nutnými pro pøevod pravidla.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">rules</tt></span></dt>
                  <dd>
                     <p>Asociaèní pravidla, která se pøevádìjí do pøirozeného
                        jazyka. Každé pravidlo je uloženo v&nbsp;samostatném XML souboru.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">source</tt></span></dt>
                  <dd>
                     <p>Zdrojové soubory k&nbsp;programùm <tt class="filename">4ftAR2NL.exe</tt>
                        a <tt class="filename">expressions.exe</tt>. Tento adresáø není k&nbsp;dispozici
                        ve veøejné verzi systému AR2NL.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">templates.cs</tt></span></dt>
                  <dd>
                     <p>Šablony datových XML souborù pro èeštinu.</p>
                  </dd>
                  <dt><span class="term"><tt class="filename">templates.en</tt></span></dt>
                  <dd>
                     <p>Šablony datových XML souborù pro angliètinu.</p>
                  </dd>
               </dl>
            </div>
            <p>Pomocné soubory:</p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="filename">foreach.xml</tt></span></dt>
                  <dd>
                     <p>XML soubor, který se používá jako èítaè pøi prùchodu
                        cyklem <tt class="sgmltag-element">for-each</tt> v&nbsp;XSLT stylu.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">randomness.xml</tt></span></dt>
                  <dd>
                     <p>XML soubor, který se používá pøi „<span class="quote">simulování náhodného
                           výbìru</span>“ (resp. pøi výbìru hodnoty, která nebyla použita
                        v&nbsp;minulém pøevodu), bližší popis je uveden v&nbsp;èásti
                        <a href="#sec.random">Výbìr náhodných hodnot</a>.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="filename">config.xsl</tt></span></dt>
                  <dd>
                     <p>Konfiguraèní soubor.</p>
                  </dd>
                  <dt><span class="term"><tt class="filename">set-random.xsl</tt></span></dt>
                  <dd>
                     <p>Styl zmìní hodnoty v&nbsp;souboru
                        <tt class="filename">randomness.xml</tt>.
                     </p>
                  </dd>
               </dl>
            </div>
            <p>Samostatné styly pro pøevod:</p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="filename">phase00.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase01.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase02.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase03.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase04.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase05.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase06.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase07.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase08.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase09.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase10.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase11.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase12.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">phase2txt.xsl</tt></span></dt>
                  <dd>
                     <p></p>
                  </dd>
               </dl>
            </div>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="filename">distribution.txt</tt></span></dt>
                  <dd>
                     <p>Popis, jak vytvoøit distribuèní soubor
                        <tt class="filename">LM.4ftAR2NL.zip.</tt></p>
                  </dd>
                  <dt><span class="term"><tt class="filename">news.txt</tt></span></dt>
                  <dd>
                     <p>Soubor se seznamem provedených zmìn v&nbsp;jednotlivých
                        verzích systému AR2NL.
                     </p>
                  </dd>
               </dl>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.data"></a>4. Datové soubory
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Data jsou ukládána ve formátu XML a jsou rozdìlena do šesti souborù:</p>
            <div class="itemizedlist">
               <ul type="disc">
                  <li>
                     <p><tt class="filename">fp.xml</tt> – formulaèní vzory,
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">fpa.xml</tt> – pomocné symboly substituované
                        do formulaèních vzorù,
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">mn.xml</tt> – vzory pro ohýbání podstatných
                        jmen, pøídavných jmen a zájmen,
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">mv.xml</tt> – vzory pro ohýbání sloves,
                     </p>
                  </li>
                  <li>
                     <p>
                        <tt class="filename">langparam.xml</tt> – parametry, které jsou závislé na
                        jazyku, do kterého probíhá pøevod,
                        
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">entitynames.xml</tt> – entity závislé na
                        doménové oblasti,
                     </p>
                  </li>
                  <li>
                     <p><tt class="filename">elementary.xml</tt> – elementární výrazy.
                     </p>
                  </li>
               </ul>
            </div>
            <p>Datové soubory jsou uloženy v&nbsp;adresáøi <tt class="filename">data</tt>.
               Tento adresáø má hierarchii vytvoøenou podle tìchto pravidel:
            </p>
            <div class="orderedlist">
               <ol type="1">
                  <li>
                     <p>Všechna data jsou závislá na jazyku.</p>
                  </li>
                  <li>
                     <p>Data v&nbsp;souborech <tt class="filename">entitynames.xml</tt> a 
                        <tt class="filename">elementary.xml</tt> jsou závislá na doménové oblasti („<span class="quote">o&nbsp;èem
                           data jsou</span>“).
                     </p>
                  </li>
                  <li>
                     <p>Data v&nbsp;souboru <tt class="filename">elementary.xml</tt> jsou navíc
                        ještì závislá na použité metabázi systému LISp-Miner.
                     </p>
                  </li>
               </ol>
            </div>
            <p>
               Z&nbsp;výše uvedených podmínek vyplývá následující struktura (pøedpokládejme,
               že máme lingvistická data pro èeštinu o&nbsp;pacientech pocházející
               z&nbsp;projektu <a href="http://euromise.vse.cz/stulong/" target="_top">STULONG</a>):
               
            </p>
            <p><tt class="filename">data</tt>:
            </p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="filename">cs</tt></span></dt>
                  <dd>
                     <p></p>
                     <div class="variablelist">
                        <dl>
                           <dt><span class="term"><tt class="filename">patients</tt></span></dt>
                           <dd>
                              <p></p>
                              <div class="variablelist">
                                 <dl>
                                    <dt><span class="term"><tt class="filename">stulong</tt></span></dt>
                                    <dd>
                                       <p></p>
                                       <div class="variablelist">
                                          <dl>
                                             <dt><span class="term"><tt class="filename">elementary.xml</tt></span></dt>
                                             <dd>
                                                <p></p>
                                             </dd>
                                          </dl>
                                       </div>
                                    </dd>
                                    <dt><span class="term"><tt class="filename">entitynames.xml</tt></span></dt>
                                    <dd>
                                       <p></p>
                                    </dd>
                                 </dl>
                              </div>
                           </dd>
                           <dt><span class="term"><tt class="filename">fp.xml</tt></span></dt>
                           <dd>
                              <p></p>
                           </dd>
                           <dt><span class="term"><tt class="filename">fpa.xml</tt></span></dt>
                           <dd>
                              <p></p>
                           </dd>
                           <dt><span class="term"><tt class="filename">langparam.xml</tt></span></dt>
                           <dd>
                              <p></p>
                           </dd>
                           <dt><span class="term"><tt class="filename">mn.xml</tt></span></dt>
                           <dd>
                              <p></p>
                           </dd>
                           <dt><span class="term"><tt class="filename">mv.xml</tt></span></dt>
                           <dd>
                              <p></p>
                           </dd>
                        </dl>
                     </div>
                  </dd>
               </dl>
            </div>
            <p>Bližší popis datových souborù je uveden v&nbsp;uživatelské dokumentaci.</p>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.rule"></a>5. Asociaèní pravidlo
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Asociaèní pravidlo musí být uloženo v&nbsp;XML formátu. Jméno XML souboru
               je ve tvaru <tt class="filename">ar&nbsp;+&nbsp;ID_hypotézy&nbsp;+&nbsp;.xml</tt>.
               
            </p>
            <p>Ukázka souboru s&nbsp;asociaèním pravidlem:
               
            </p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;!DOCTYPE rule PUBLIC "-//LISp-Miner//DTD Rule 1.0//EN"
	"http://lispminer.vse.cz/dtd/rule-1.0.dtd"&gt;

&lt;rule id="19" quantifier="FUI"&gt;
  &lt;cedent type="A"&gt;
    &lt;literal quantity="Duration Of the Way To Work" minlen="1" maxlen="1"
    	coefftype="subset" attribute="DOPRATRV"&gt;
      &lt;coefficient&gt;
        &lt;value category="app.&amp;frac12; an hour"&gt;5.0&lt;/value&gt;
      &lt;/coefficient&gt;
    &lt;/literal&gt;
  &lt;/cedent&gt;
  &lt;cedent type="S"&gt;
    &lt;literal quantity="Education" minlen="1" maxlen="1" coefftype="subset"
    	attribute="VZDELANI"&gt;
      &lt;coefficient&gt;
	&lt;value category="apprentice school"&gt;2.0&lt;/value&gt;
      &lt;/coefficient&gt;
    &lt;/literal&gt;
  &lt;/cedent&gt;
  &lt;cedent type="C"&gt;
    &lt;literal quantity="Group" minlen="1" maxlen="1" coefftype="one"
    	attribute="PUVSKUP"&gt;
      &lt;coefficient&gt;
	&lt;value category="PG - Pathology Group"&gt;5.0&lt;/value&gt;
      &lt;/coefficient&gt;
    &lt;/literal&gt;
  &lt;/cedent&gt;
  &lt;parameters&gt;
    &lt;param name="P" value="50"/&gt;
    &lt;param name="B" value="17"/&gt;
    &lt;param name="T" value="34"/&gt;
  &lt;/parameters&gt;
&lt;/rule&gt;
</pre><p>
               
            </p>
            <p>Význam jednotlivých elementù:</p>
            <div class="variablelist">
               <dl>
                  <dt><span class="term"><tt class="sgmltag-element">rule</tt></span></dt>
                  <dd>
                     <p>Koøenový element, obsahuje elementy 
                        <tt class="sgmltag-element">cedent</tt> a
                        <tt class="sgmltag-element">parameters</tt>.
                     </p>
                     <p>Atribut <tt class="sgmltag-attribute">id</tt> obsahuje èíslo
                        hypotézy z&nbsp;metabáze, atribut
                        <tt class="sgmltag-attribute">quantifier</tt> obsahuje oznaèení
                        kvantifikátoru – používá se hodnota atributu
                        <span class="database">ShortName</span> z&nbsp;tabulky
                        <span class="database">tsQuantifierType</span> v&nbsp;metabázi
                        systému LISp-Miner.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">cedent</tt></span></dt>
                  <dd>
                     <p>Element <tt class="sgmltag-element">cedent</tt> popisuje jeden
                        cedent v&nbsp;pravidle a obsahuje jeden nebo více elementù
                        <tt class="sgmltag-element">literal</tt>.
                        Atribut <tt class="sgmltag-attribute">type</tt> mùže nabývat hodnoty
                        „<span class="quote">A</span>“, „<span class="quote">S</span>“ nebo „<span class="quote">C</span>“ a oznaèuje
                        typ cendentu (antecedent, sukcedent, condition).
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">literal</tt></span></dt>
                  <dd>
                     <p>Element oznaèuje jeden
                        literál v&nbsp;cedentu a mùže obsahovat element 
                        <tt class="sgmltag-element">coefficient</tt>. Význam atributù:
                     </p>
                     <div class="itemizedlist">
                        <ul type="disc">
                           <li>
                              <p><tt class="sgmltag-attribute">quantity</tt> –
                                 	  hodnota atributu <span class="database">ShortName</span>
                                 	  z&nbsp;tabulky <span class="database">tmQuantity</span>,
                              </p>
                           </li>
                           <li>
                              <p><tt class="sgmltag-attribute">minlen</tt> –
                                 	  hodnota atributu <span class="database">MinLen</span> 
                                 	  z&nbsp;tabulky <span class="database">tdCedentD</span>,
                              </p>
                           </li>
                           <li>
                              <p><tt class="sgmltag-attribute">maxlen</tt> –
                                 	  hodnota atributu <span class="database">MaxLen</span>
                                 	  z&nbsp;tabulky <span class="database">tdCedentD</span>,
                              </p>
                           </li>
                           <li>
                              <p><tt class="sgmltag-attribute">attribute</tt> –
                                 	  hodnota atributu <span class="database">Name</span> 
                                 	  z&nbsp;tabulky <span class="database">tmAttribute</span>,
                              </p>
                           </li>
                           <li>
                              <p><tt class="sgmltag-attribute">coefftype</tt> –
                                 	  hodnota atributu <span class="database">ShortName</span>
                                 	  z&nbsp;tabulky <span class="database">tsCoefficientType</span> (hodnota
                                 	  „<span class="quote">*</span>“ se pøevádí na hodnotu „<span class="quote">subset</span>“).
                              </p>
                           </li>
                        </ul>
                     </div>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">coefficient</tt></span></dt>
                  <dd>
                     <p>Element <tt class="sgmltag-element">coefficient</tt> obsahuje
                        jednotlivé hodnoty tvoøící koeficient.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">value</tt></span></dt>
                  <dd>
                     <p>Element obsahuje hodnotu atributu (tabulka
                        <span class="database">tmValue</span>).
                        Atribut <tt class="sgmltag-attribute">category</tt> obsahuje hodnotu
                        atributu <span class="database">Name</span>
                        z&nbsp;tabulky <span class="database">tmCategory</span>.
                     </p>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">parameters</tt></span></dt>
                  <dd>
                     <p>Element obsahuje jednotlivé parametry hypotézy.</p>
                  </dd>
                  <dt><span class="term"><tt class="sgmltag-element">param</tt></span></dt>
                  <dd>
                     <p>Element uchovává jméno (atribut
                        <tt class="sgmltag-attribute">name</tt>) a hodnotu parametru
                        (atribut <tt class="sgmltag-attribute">value</tt>).
                     </p>
                  </dd>
               </dl>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.4ftar2nl"></a>6. Procedura 4ftAR2NL
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.io"></a>6.1. Vstupy a výstupy
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Spuštìní transformace:</p>
               <div class="cmdsynopsis">
                  <p><tt class="command">4ftAR2NL</tt>   -DSN=<i class="replaceable"><tt>data_source_name</tt></i>   -hypno=<i class="replaceable"><tt>hypothesis_ID</tt></i> 
                  </p>
               </div>
               <p>Význam parametrù:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><i class="parameter"><tt>DSN</tt></i> – jméno datového zdroje.
                        </p>
                     </li>
                     <li>
                        <p><i class="parameter"><tt>hypno</tt></i> – ID èíslo hypotézy (asociaèního
                           pravidla).
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Vstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Asociaèní pravidlo (hypotéza) z&nbsp;metabáze systému LISp-Miner.
                           
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Výstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Textový soubor obsahující množinu variant, kterými lze vyjádøit vstupní
                           asociaèní pravidlo v&nbsp;pøirozeném jazyce. (Výstupní soubor mùže být
                           i&nbsp;v&nbsp;jiném formátu, napø.&nbsp;v&nbsp;HTML.)
                           
                        </p>
                     </li>
                  </ul>
               </div>
               <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title">Poznámka</h3>
                  <p>
                     Pokud spustíme program 4ftAR2NL s&nbsp;parametrem
                     <i class="parameter"><tt>version</tt></i>, zobrazí se na výstupu informace
                     o&nbsp;verzi systému AR2NL:
                  </p>
                  <div class="cmdsynopsis">
                     <p><tt class="command">4ftAR2NL</tt>   -version 
                     </p>
                  </div>
               </div>
               <p>Systém èerpá data z&nbsp;následujících tabulek metabáze (program
                  expressions.exe využívá podmnožinu níže uvedených tabulek):
               </p>
               <div class="table"><a id="d0e867"></a><p class="title"><b>Tabulka 1. Využívané tabulky a sloupce</b></p>
                  <table summary="Využívané tabulky a sloupce" border="1">
                     <colgroup>
                        <col></col>
                        <col></col>
                        <col></col>
                     </colgroup>
                     <thead>
                        <tr>
                           <th>Tabulka</th>
                           <th>Sloupec</th>
                           <th>Ètení</th>
                           <th>Zápis</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr>
                           <td>taTask</td>
                           <td>TaskID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tdFTQuantifier</td>
                           <td>FTQuantifierTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>TaskID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="5" valign="top">tdLiteralD</td>
                           <td>CoefficientTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>LiteralDID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>MaxLen</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>MinLen</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>QuantityID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tiCoefficient</td>
                           <td>CategoryID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>LiteralIID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="3" valign="top">tiHypothesis</td>
                           <td>Freq[A|B|C|D]</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>HypothesisID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>TaskID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="4" valign="top">tiLiteralI</td>
                           <td>CedentTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>HypothesisID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>LiteralIID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>LiteralDID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="3" valign="top">tmAttribute</td>
                           <td>AttributeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>Name</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ValueSubTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="4" valign="top">tmCategory</td>
                           <td>CategoryID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>CategorySubTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>Name</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>QuantityID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="3" valign="top">tmInterval</td>
                           <td>CategoryID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>FromValueID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ToValueID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="3" valign="top">tmQuantity</td>
                           <td>AttributeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>Name</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>QuantityID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tmValue</td>
                           <td>ValueID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>Value[Long|Float|String|Bool|Date]</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tpParamsDB</td>
                           <td>Name</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>StrValue</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tsCategoryEnumValue</td>
                           <td>CategoryID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ValueID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tsCategorySubType</td>
                           <td>CategorySubTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ShortName</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tsCedentType</td>
                           <td>CedentTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ShortName</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tsCoefficientType</td>
                           <td>CoefficientTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ShortName</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>tsQuantifierType</td>
                           <td>ShortName</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>tsQuantifierType</td>
                           <td>QuantifierTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td rowspan="2" valign="top">tsValueSubType</td>
                           <td>ShortName</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                        <tr>
                           <td>ValueSubTypeID</td>
                           <td align="center">×</td>
                           <td>&nbsp;</td>
                        </tr>
                     </tbody>
                  </table>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.alg"></a>6.2. Algoritmus procedury 4ftAR2NL
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Algoritmus procedury 4ftAR2NL (bez popisu XSLT stylù, který je uveden
                  v&nbsp;èásti <a href="#sec.transform.phase">Fáze pøevodu</a>)
                  lze znázornit takto:
               </p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>Uprav relativní cestu k&nbsp;datovým a ostatním souborùm.</p>
                     </li>
                     <li>
                        <p>Uprav relativní cestu k&nbsp;souboru
                           <tt class="filename">transform.bat</tt>.
                        </p>
                        <p>(Relativní cesty se upravují kvùli tomu, aby bylo možno modul 4ftAR2NL
                           spouštìt i&nbsp;z&nbsp;jiného umístìní. Program se odkazuje na ostatní soubory
                           relativnì a pokud bychom neupravili relativní cestu, tak by je nenašel.)
                        </p>
                     </li>
                     <li>
                        <p>TRY</p>
                        <div class="orderedlist">
                           <ol type="1">
                              <li>
                                 <p>Zkontroluj jména parametrù.</p>
                              </li>
                              <li>
                                 <p>Zkontroluj hodnoty parametrù.</p>
                              </li>
                              <li>
                                 <p>Vytvoø spojení s&nbsp;databází.</p>
                              </li>
                              <li>
                                 <p>Naèti parametry z&nbsp;tabulky
                                    <span class="database">tpParamDB</span>:
                                 </p>
                                 <div class="orderedlist">
                                    <ol type="1">
                                       <li>
                                          <p>Naèti jméno adresáøe, ve kterém jsou uložena
                                             	  doménová data (parametr <i class="parameter"><tt>4ftAR2NL_Domain</tt></i>).
                                          </p>
                                       </li>
                                       <li>
                                          <p>Naèti jméno adresáøe, ve kterém jsou uloženy
                                             	  elementární výrazy (parametr <i class="parameter"><tt>4ftAR2NL_Express</tt></i>).
                                          </p>
                                       </li>
                                       <li>
                                          <p>Naèti kód jazyku, do kterého se má pravidlo pøevést
                                             	  (parametr <i class="parameter"><tt>4ftAR2NL_Lang</tt></i>).
                                          </p>
                                       </li>
                                    </ol>
                                 </div>
                              </li>
                              <li>
                                 <p>Vygeneruj z&nbsp;metabáze pravidlo ve formátu XML.</p>
                              </li>
                              <li>
                                 <p>IF systém umí pravidlo pøevést:</p>
                                 <div class="orderedlist">
                                    <ol type="1">
                                       <li>
                                          <p>Pøeveï pravidlo do kódování UTF-8.</p>
                                       </li>
                                       <li>
                                          <p>Ulož pravidlo do XML souboru, jehož jméno je tvoøeno
                                             	  ve tvaru „<span class="quote"><tt class="filename">ar + <tt class="varname">èíslo_hypotézy</tt> + 
                                                   	  .xml</tt></span>“.
                                          </p>
                                       </li>
                                    </ol>
                                 </div>
                              </li>
                              <li>
                                 <p>Zkontroluj, jestli existují všechny XML datové soubory.
                                    
                                 </p>
                              </li>
                              <li>
                                 <p>Zruš spojení s&nbsp;databází.</p>
                              </li>
                              <li>
                                 <p>Spus dávkový soubor <tt class="filename">transform.bat</tt>
                                    (s&nbsp;potøebnými parametry),
                                    který pøevede v&nbsp;XML formátu vygenerované pravidlo do pøirozeného
                                    jazyka. Výsledek transformace je ve výstupním souboru
                                    <tt class="filename">output.txt</tt>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                     </li>
                     <li>
                        <p>CATCH</p>
                        <div class="orderedlist">
                           <ol type="1">
                              <li>
                                 <p>Zruš spojení s&nbsp;databází.</p>
                              </li>
                              <li>
                                 <p>Zapiš výjimku do výstupního souboru 
                                    <tt class="filename">output.txt</tt>.
                                 </p>
                              </li>
                           </ol>
                        </div>
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.globalarch"></a>6.3. Globální architektura
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Program 4ftAR2NL využívá tyto tøídy:</p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term"><tt class="classname">ARule</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;asociaèním pravidle.</p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Cedent</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;cedentu asociaèního pravidla.
                           
                        </p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Coefficient</tt></span></dt>
                     <dd>
                        <p>Tøída obsahuje údaje o&nbsp;koeficientu literálu.
                           
                        </p>
                     </dd>
                     <dt><span class="term"><tt class="classname">DB</tt></span></dt>
                     <dd>
                        <p>Tøída zprostøedkovává a ruší spojení s&nbsp;databází.</p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Literal</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;literálu v&nbsp;asociaèním
                           pravidle.
                        </p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Metabase</tt></span></dt>
                     <dd>
                        <p>Tøída obsahuje metody umožòující naèítání parametrù
                           z&nbsp;tabulky <span class="database">tpParamDB</span> metabáze systému
                           LISp-Miner.
                        </p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Param</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;jednom parametru asociaèního
                           pravidla.
                        </p>
                     </dd>
                  </dl>
               </div>
               <p>Na obrázku <a href="#pic01" title="Obrázek 1. Objektový model">1 – „Objektový model“</a> je zachycen objektový model
                  aplikace (bez tøídy <tt class="classname">DB</tt> a <tt class="classname">Metabase</tt>).
                  
               </p>
               <div class="figure"><a id="pic01"></a><p class="title"><b>Obrázek 1. Objektový model</b></p>
                  <div class="mediaobject"><img src="objektovymodel.png" alt="Objektový model"></img></div>
               </div>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.transform"></a>7. Transformace pravidla
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.transform.io"></a>7.1. Vstupy a výstupy
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Spuštìní pøevodu pravidla do pøirozeného jazyka:</p>
               <div class="cmdsynopsis">
                  <p><tt class="command">transform</tt>   <i class="replaceable"><tt>lang</tt></i>   <i class="replaceable"><tt>domain</tt></i>   <i class="replaceable"><tt>expression</tt></i>   <i class="replaceable"><tt>ruleID</tt></i>   <i class="replaceable"><tt>relPath</tt></i> 
                  </p>
               </div>
               <p>Význam parametrù:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><i class="parameter"><tt>lang</tt></i> – kód jazyka, do kterého se provádí
                           pøevod podle ISO&nbsp;639.
                        </p>
                     </li>
                     <li>
                        <p><i class="parameter"><tt>domain</tt></i> – jméno adresáøe, kde jsou uložena
                           data závislá na doménì.
                        </p>
                     </li>
                     <li>
                        <p><i class="parameter"><tt>expression</tt></i> – jméno adresáøe, kde jsou uložena
                           data závislá na metabázi.
                        </p>
                     </li>
                     <li>
                        <p><i class="parameter"><tt>ruleID</tt></i> – ID èíslo hypotézy (asociaèního
                           pravidla).
                        </p>
                     </li>
                     <li>
                        <p><i class="parameter"><tt>relPath</tt></i> – relativní cesta (zajišuje, že
                           se transformace spustí, i&nbsp;když není volána pøímo z&nbsp;adresáøe, kde
                           je uložena).
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Vstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Asociaèní pravidlo uložené ve formátu XML (adresáø
                           <tt class="filename">rules</tt>).
                        </p>
                     </li>
                     <li>
                        <p>Lingvistická data ve formátu XML (adresáø <tt class="filename">data</tt>).
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Výstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Textový soubor obsahující množinu variant, kterými lze vyjádøit vstupní
                           asociaèní pravidlo v&nbsp;pøirozeném jazyce. (Výstupní soubor mùže být
                           i&nbsp;v&nbsp;jiném formátu, napø.&nbsp;v&nbsp;HTML.)
                           
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.transform.alg"></a>7.2. Algoritmus transformace
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Algoritmus dávkového souboru <tt class="filename">transform.bat</tt>
                  lze znázornit takto:
               </p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>Nastav systémovou promìnnou <tt class="varname">XML_CATALOG_FILES</tt>
                           tak, aby obsahovala cestu ke XML katalogu.
                        </p>
                     </li>
                     <li>
                        <p>Pøeveï pravidlo (pøevod je rozdìlen do 12 fází).</p>
                     </li>
                     <li>
                        <p>Uprav soubor „<span class="quote">s&nbsp;náhodnými èísly</span>“
                           (<tt class="filename">randomness.xml</tt>).
                        </p>
                     </li>
                     <li>
                        <p>Pøeveï výstupní XML soubor do TXT formátu (prostý text).</p>
                     </li>
                  </ol>
               </div>
               <p>Z&nbsp;pøedchozího je vidìt, že program neprovádí žádnou kontrolu
                  vstupních parametrù.
               </p>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.transform.phase"></a>7.3. Fáze pøevodu
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Mluvíme-li v&nbsp;popisu transformace o&nbsp;„<span class="quote">výbìru náhodné
                     hodnoty</span>“, máme na mysli výbìr hodnoty podle mechanismu popsaného
                  v&nbsp;èásti <a href="#sec.random">Výbìr náhodných hodnot</a>.
               </p>
               <p>Pøevod pravidla je rozdìlen do nìkolika fází:</p>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1555"></a>7.3.1. Fáze 00
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Tato „<span class="quote">nultá</span>“ fáze vytvoøí XML soubor <tt class="filename">params.xml</tt>
                     v&nbsp;adresáøi <tt class="filename">param</tt>, do kterého se
                     uloží nìkteré parametry, aby se nemusely zjišovat (nebo pøedávat) každé fázi.
                     Ukládané parametry jsou následující:
                     
                  </p>
                  <div class="itemizedlist">
                     <ul type="disc">
                        <li>
                           <p>
                              <i class="parameter"><tt>fp</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">fp.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>fpa</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">fpa.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>entity</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">entitynames.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>elementary</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">elementary.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>mn</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">mn.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>mv</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">mv.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>langparam</tt></i> – relativní cesta k&nbsp;souboru
                              <tt class="filename">langparam.xml</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>rule</tt></i> – cesta ke XML souboru s&nbsp;asociaèním
                              pravidlem.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>quantifier</tt></i> – typ kvantifikátoru. 
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>numofant</tt></i> – poèet literálù v&nbsp;antecedentu.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>numofsuc</tt></i> – poèet literálù v&nbsp;sukcedentu.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>numofantcon</tt></i> – øetìzec, který se vytvoøí podle
                              hodoty parametru <i class="parameter"><tt>numofant</tt></i>. Pøi hledání vhodných
                              formulaèních vzorù a substitucí za symboly do formulaèních vzorù se
                              porovnává, jestli je jejich hodnota atributu
                              <tt class="sgmltag-attribute">numofant</tt> obsažena v&nbsp;tomto øetìzci.
                              
                           </p>
                        </li>
                        <li>
                           <p>
                              <i class="parameter"><tt>numofsuccon</tt></i> – øetìzec, který se vytvoøí podle
                              hodoty parametru <i class="parameter"><tt>numofsuc</tt></i>. Pøi hledání vhodných
                              formulaèních vzorù a substitucí za symboly do formulaèních vzorù se
                              porovnává, jestli je jejich hodnota atributu
                              <tt class="sgmltag-attribute">numofsuc</tt> obsažena v&nbsp;tomto øetìzci.
                              
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup:</span></dt>
                        <dd>
                           <p>XML soubor s&nbsp;asociaèním pravidlem.
                              
                           </p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd>
                           <p>Soubor s&nbsp;parametry <tt class="filename">params.xml</tt>.
                              
                           </p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1697"></a>7.3.2. Fáze 01
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;první fázi jsou vybrány „<span class="quote">vhodné</span>“ formulaèní vzory ze souboru
                     <tt class="filename">fp.xml</tt>. Každý formulaèní vzor je použit tolikrát, kolik
                     je vhodných substitucí (ze souboru <tt class="filename">fpa.xml</tt>) za element
                     <tt class="sgmltag-element">fpa</tt> s&nbsp;atributem
                     <tt class="sgmltag-attribute">symbol</tt> nastaveným na
                     hodnotu „<span class="quote">Y</span>“.
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – formulaèní vzor:</span></dt>
                        <dd><pre class="programlisting">&lt;fp id="fp4" quantifier="FUI" numofant="1+" numofsuc="1+"&gt;
  &lt;fpa symbol="X"/&gt;
  &lt;fpa symbol="Y" case="2" number="pl"/&gt;
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal role="S" typeofphrase="V" number="qpl"/&gt;.
&lt;/fp&gt;</pre></dd>
                        <dt><span class="term">Vstup – substituce za <tt class="sgmltag-element">fpa[@symbol="Y"]</tt>:</span></dt>
                        <dd><pre class="programlisting">&lt;fpadata id="fpa4" symbol="Y" numofant="1+" numofsuc="1+"&gt;
  &lt;ename symbol="E"/&gt;,
  &lt;ename symbol="Erel" number="_"/&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal role="A" typeofphrase="V" number="_"/&gt;,
&lt;/fpadata&gt;</pre></dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;fpa symbol="X"/&gt;
  &lt;fpa symbol="Y" case="2" number="pl"&gt;
    &lt;ename symbol="E"/&gt;,
    &lt;ename symbol="Erel" number="_"/&gt;
    &lt;floatslot id="1" role="A" occno="first"/&gt;
    &lt;literal role="A" typeofphrase="V" number="_"/&gt;,
  &lt;/fpa&gt;
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal role="S" typeofphrase="V" number="qpl"/&gt;.
&lt;/sentence&gt;</pre></dd>
                        <dt><span class="term">Poznámky:</span></dt>
                        <dd>
                           <p>„<span class="quote">Vhodný</span>“ formulaèní vzor je takový, který je pøipraven
                              pro použití v&nbsp;asociaèním pravidle s&nbsp;odpovídajícím typem kvantifikátoru,
                              poètem literálù v&nbsp;antecedentu a v&nbsp;sukcedentu.
                           </p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1750"></a>7.3.3. Fáze 02
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;této fázi jsou pøedány potomkùm (elementy
                     <tt class="sgmltag-element">ename</tt> a <tt class="sgmltag-element">literal</tt>)
                     elementu <tt class="sgmltag-element">fpa[@symbol="Y"]</tt> hodnoty atributù 
                     <tt class="sgmltag-attribute">case</tt> a <tt class="sgmltag-attribute">number</tt>
                     elementu <tt class="sgmltag-element">fpa</tt>.
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output01.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;ename symbol="E" number="pl" case="2"/&gt;,
  &lt;ename symbol="Erel" number="pl"/&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal role="A" typeofphrase="V" number="pl"/&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal role="S" typeofphrase="V" number="qpl"/&gt;.
&lt;/sentence&gt;</pre></dd>
                        <dt><span class="term">Poznámky:</span></dt>
                        <dd>
                           <p>Elementu <tt class="sgmltag-element">literal</tt> pøedáváme direktivy
                              (case a number) pouze pokud si to sám vyžádá – jeho atributy
                              <tt class="sgmltag-attribute">case</tt> a/nebo <tt class="sgmltag-attribute">number</tt>
                              obsahují jako hodnotu „<span class="quote">_</span>“.
                           </p>
                           <p>Elementu <tt class="sgmltag-element">ename</tt> pøedáváme direktivy
                              vždy (jsou-li jaké), pouze v&nbsp;pøípadì, že element explicitnì vyžaduje pøedání èísla
                              (<tt class="sgmltag-attribute">number</tt>), tak nepøedáváme pád
                              (<tt class="sgmltag-attribute">case</tt>).
                           </p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1816"></a>7.3.4. Fáze 03
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Fáze provede nahrazení elementù <tt class="sgmltag-element">ename</tt>
                     odpovídajícími substitucemi
                     ze souboru <tt class="filename">entitynames.xml</tt> – elementy
                     <tt class="sgmltag-element">ename</tt> jsou nahrazeny obsahem elementu
                     <tt class="sgmltag-element">enamedata</tt> (ze souboru 
                     <tt class="filename">entitynames.xml</tt>) se stejnou hodnotou atributu
                     <tt class="sgmltag-attribute">symbol</tt>. Pokud substituovaná èást obsahuje
                     element <tt class="sgmltag-element">word</tt>, jsou tomuto elementu pøedány
                     direktivy (atributy <tt class="sgmltag-attribute">case</tt>
                     a <tt class="sgmltag-attribute">number</tt>).
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output02.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;word pattern="m1" class="nominal" case="2"
    number="pl"&gt;pacient&lt;/word&gt;
  &lt;word pattern="a1rma" class="nominal"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal role="A" typeofphrase="V" number="pl"/&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal role="S" typeofphrase="V" number="qpl"/&gt;.
&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1862"></a>7.3.5. Fáze 04
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Rozšíøení literálù v&nbsp;antecedentu a sukcedentu na potøebný poèet.
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output03.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;word pattern="m1" class="nominal" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word pattern="a1rma" class="nominal"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal role="A" typeofphrase="V" number="pl"/&gt; a 
  &lt;literal role="A" typeofphrase="V" number="pl"/&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal role="S" typeofphrase="V" number="qpl"/&gt;.
&lt;/sentence&gt;</pre></dd>
                        <dt><span class="term">Poznámky:</span></dt>
                        <dd>
                           <p>XSLT šablona pro tuto fázi vypadá složitì, ale myšlenka je jednoduchá:
                              vìty (formulaèní vzory) uvedené v&nbsp;datovém souboru 
                              <tt class="filename">fp.xml</tt> s&nbsp;jedním antecedentem v&nbsp;literálu rozšiø
                              na potøebný poèet (tzv.&nbsp;„<span class="quote">obyèejné</span>“ rozšíøení). Vìty
                              se dvìma literály v&nbsp;antecedentu „<span class="quote">roznásob</span>“ – vytvoø
                              možné kombinace (tzv.&nbsp;„<span class="quote">pøesouvání</span>“ literálu).
                              
                           </p>
                           <p>Zjednodušená ilustrace rozšiøování elementù:</p>
                           <div class="itemizedlist">
                              <ul type="disc">
                                 <li>
                                    <p>„<span class="quote">Obyèejné</span>“ rozšíøení (na tøi literály):
                                    </p><pre class="programlisting">text &lt;literal /&gt; text &#8658;
text &lt;literal /&gt;, &lt;literal /&gt; a &lt;literal /&gt; text</pre></li>
                                 <li>
                                    <p>„<span class="quote">Pøesouvání</span>“ literálu (rozšíøení na tøi
                                       literály):
                                    </p><pre class="programlisting">text &lt;literal /&gt; text &lt;literal /&gt; &#8658;
text &lt;literal /&gt; a &lt;literal /&gt; text &lt;literal /&gt;
text &lt;literal /&gt; text &lt;literal /&gt; a &lt;literal /&gt;</pre></li>
                              </ul>
                           </div>
                           <p>Literály v&nbsp;sukcedentu se rozšiøují pouze „<span class="quote">obyèejným</span>“
                              rozšiøováním.
                           </p>
                           <p>Spojka „<span class="quote">a</span>“ je uložena jako parametr
                              <i class="parameter"><tt>conjunction</tt></i> v&nbsp;soboru
                              <tt class="filename">langparam.xml</tt>.
                           </p>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1932"></a>7.3.6. Fáze 05
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Element <tt class="sgmltag-element">literal</tt> se rozšíøí o&nbsp;atributy
                     <tt class="sgmltag-attribute">mbattribute</tt> (jméno atribut v&nbsp;metabázi)
                     a <tt class="sgmltag-attribute">value</tt> (hodnota atributu v&nbsp;metabázi)
                     podle údajù v&nbsp;XML popisu pravidla.
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output04.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;word pattern="m1" class="nominal" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word pattern="a1rma" class="nominal"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal mbattribute="CHLST" value="200..259" role="A"
    typeofphrase="V" number="pl"/&gt; a
  &lt;literal mbattribute="TRIGL" value="160..194" role="A"
    typeofphrase="V" number="pl"/&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal mbattribute="DOBAKOUR" value="10" role="S"
    typeofphrase="V" number="qpl"/&gt;.
&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e1960"></a>7.3.7. Fáze 06
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Podle hodnoty atributu <tt class="sgmltag-attribute">typeofphrase</tt>
                     se vybere ze souboru <tt class="filename">elementary.xml</tt> elementární fráze
                     a použije se jako obsah elementu <tt class="sgmltag-element">literal</tt>.
                     
                  </p>
                  <p>
                     Postup pøi výbìru elementární fráze:
                     
                  </p><pre class="programlisting">
  IF typ fráze = 'L'
    IF adjektivní fráze s pozicí "L" != ''
      použij adjektivní frázi
    ELSE IF slovesná fráze != '' and $participle.position = 'L'
      vytvoø pøíèestí ze slovesné fráze
  
  ELSE IF typ fráze = 'N' and jmenná fráze != ''
    použij jmennou frázi
    
  ELSE IF typ fráze = 'R'
    IF adjektivní fráze s pozicí "R" != ''
      použij adjektivní frázi
    ELSE IF slovesná fráze != '' and $participle.position = 'R'
      vytvoø pøíèestí ze slovesné fráze
  
  ELSE IF typ fráze = 'NA' and NAF != ''
    použij NAF (viz poznámka)
  
  ELSE IF typ fráze = 'V' and slovesná fráze != ''
    použij slovesnou frázi
</pre><p>
                     Promìnná <tt class="varname">$participle.position</tt> udává, jestli odvozené pøíèestí
                     má být umístìno nalevo (L) nebo napravo (R) od popisované entity.
                     Její hodnota se èerpá z&nbsp;parametru <i class="parameter"><tt>participle.position</tt></i>,
                     který je uložen v&nbsp;souboru <tt class="filename">langparam.xml</tt>.
                     
                  </p>
                  <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Poznámka</h3>
                     <p>
                        Frází daného typu (slovesných, adjektivních, …) mùže být
                        k&nbsp;dispozici více, aplikace proto vybírá
                        <a href="#sec.random" title="7.3.15. Výbìr náhodných hodnot">náhodnì</a> jednu z&nbsp;nich.
                        
                     </p>
                  </div>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output05.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;word pattern="m1" class="nominal" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word pattern="a1rma" class="nominal"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal mbattribute="CHLST" value="200..259" role="A"
     typeofphrase="V" number="pl"&gt;
    &lt;word class="verb" pattern="v3"&gt;má&lt;/word&gt; cholesterol
    &lt;param name="N"/&gt; mmg
  &lt;/literal&gt; a 
  &lt;literal mbattribute="TRIGL" value="160..194" role="A"
    typeofphrase="V" number="pl"&gt;
    &lt;word class="verb" pattern="v3"&gt;má&lt;/word&gt; triglyceridy
    &lt;param name="N"/&gt; mm
  &lt;/literal&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal mbattribute="DOBAKOUR" value="10" role="S"
    typeofphrase="V" number="qpl"&gt;
    &lt;VPinv/&gt; 21 a více let
  &lt;/literal&gt;.
&lt;/sentence&gt;</pre></dd>
                        <dt><span class="term">Poznámky:</span></dt>
                        <dd>
                           <p>Pokud je <tt class="sgmltag-element">literal[@typeofphrase="NA"]</tt>, tak se musí
                              brát v&nbsp;úvahu dvì vìci:
                              
                           </p>
                           <div class="orderedlist">
                              <ol type="1">
                                 <li>
                                    <p>
                                       Jako elementární fráze se použije obsah elementu
                                       <tt class="sgmltag-element">NAF</tt>, který ovšem obsahuje element
                                       <tt class="sgmltag-element">nounphrase</tt> s&nbsp;atributem <tt class="sgmltag-attribute">case</tt>, který je nutno pøedat elementùm, které
                                       pøijdou na místo elementu <tt class="sgmltag-element">nounphrase</tt>.
                                       Tato náhrada je provedena v&nbsp;tomto kroku pomocí rekurzivní pojmenované
                                       šablony.
                                       
                                    </p>
                                 </li>
                                 <li>
                                    <p>
                                       Pokud je pøedchozí literál v&nbsp;antecedntu také „<span class="quote">typu</span>“ NA,
                                       tak se neopakuje pøedložka (textový obsah elementu
                                       <tt class="sgmltag-element">NAF</tt>), pokud se jedná o&nbsp;stejné
                                       pøedložky.
                                       
                                    </p>
                                 </li>
                              </ol>
                           </div>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2043"></a>7.3.8. Fáze 07
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Nìkteré jazyky (napø. finština) vyžadují pøi tvorbì pøíèestí ze slovesné fráze
                     zmìnu slovosledu. Konkrétnì to znamená, že se obsah elementu
                     <tt class="sgmltag-element">ptcmod</tt> pøesune na pozici elementu
                     <tt class="sgmltag-element">ptcmodslot</tt> se stejnou hodnotou atributu
                     <tt class="sgmltag-attribute">id</tt> (pokud se tvoøí pøíèestí ze
                     slovesné fráze – pozná se to podle atributu 
                     <tt class="sgmltag-attribute">vderivation</tt> elementu
                     <tt class="sgmltag-element">literal</tt>, který má hodnotu „<span class="quote">ptc</span>“).
                     
                  </p>
                  <p>V&nbsp;èeštinì to není použito, proto není uveden pøíklad výstupu.</p>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2068"></a>7.3.9. Fáze 08
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;této fázi se provede substituce za elementy 
                     <tt class="sgmltag-element">APinv</tt>,
                     <tt class="sgmltag-element">NPinv</tt> a
                     <tt class="sgmltag-element">VPinv</tt>
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output07.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  &lt;param name="B"/&gt; (tj. &lt;param name="P"/&gt; %) z celkového poètu
  &lt;param name="T"/&gt;
  &lt;word pattern="m1" class="nominal" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word pattern="a1rma" class="nominal"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;literal mbattribute="CHLST" value="200..259" role="A"
    typeofphrase="V" number="pl"&gt;
    &lt;word class="verb" pattern="v3"&gt;má&lt;/word&gt; cholesterol
    &lt;param name="N"/&gt; mmg
  &lt;/literal&gt; a 
  &lt;literal mbattribute="TRIGL" value="160..194" role="A"
    typeofphrase="V" number="pl"&gt;
    &lt;word class="verb" pattern="v3"&gt;má&lt;/word&gt; triglyceridy
    &lt;param name="N"/&gt; mm
  &lt;/literal&gt;,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;optionaltext&gt;
    &lt;choosetext&gt;
      &lt;variant&gt;také&lt;/variant&gt;
      &lt;variant&gt;rovnìž&lt;/variant&gt;
    &lt;/choosetext&gt;
  &lt;/optionaltext&gt;
  &lt;literal mbattribute="DOBAKOUR" value="10" role="S"
    typeofphrase="V" number="qpl"&gt;
    &lt;word class="verb" pattern="v2"&gt;kouøí&lt;/word&gt; 21 a více let
  &lt;/literal&gt;.
&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2096"></a>7.3.10. Fáze 09
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;této fázi se odstraní elementy <tt class="sgmltag-element">literal</tt>
                     (nikoli ovšem jejich obsah), elementu <tt class="sgmltag-element">word</tt> 
                     se pøedají všechny direktivy (<tt class="sgmltag-attribute">case</tt>,
                     <tt class="sgmltag-attribute">number</tt>,
                     <tt class="sgmltag-attribute">vderivation</tt>) od rodièovského elementu
                     <tt class="sgmltag-element">literal</tt>, elementu
                     <tt class="sgmltag-element">float</tt> se pøidá role literálu a èíslo výskytu.
                     V&nbsp;této fázi je koneènì zvolen volitelný text (element
                     <tt class="sgmltag-element">optionaltext</tt>) a vybrána varianta
                     z&nbsp;elementu <tt class="sgmltag-element">choosetext</tt>.
                     Na závìr jsou všechny elementy <tt class="sgmltag-element">param</tt>
                     nahrazeny konkrétní hodnotou.
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output08.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  35 (tj. 62.5 %) z celkového poètu 56
  &lt;word class="nominal" pattern="m1" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word class="nominal" pattern="a1rma"
    number="pl"&gt;který&lt;/word&gt;
  &lt;floatslot id="1" role="A" occno="first"/&gt;
  &lt;word class="verb" pattern="v3" number="pl"&gt;má&lt;/word&gt;
  cholesterol 200–259 mmg a 
  &lt;word class="verb" pattern="v3" number="pl"&gt;má&lt;/word&gt;
  triglyceridy 160–194 mm,
  &lt;floatslot id="1" role="S" occno="first"/&gt;
  &lt;word class="verb" pattern="v2" number="qpl"&gt;kouøí&lt;/word&gt;
    21 a více let.
&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2145"></a>7.3.11. Fáze 10
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;této fázi se obsah elementu <tt class="sgmltag-element">float</tt>
                     kopíruje na pozici elementu <tt class="sgmltag-element">floatslot</tt>
                     se stejnou hodnotou atributu <tt class="sgmltag-attribute">id</tt>, 
                     <tt class="sgmltag-attribute">role</tt> a <tt class="sgmltag-attribute">occno</tt>.
                     Obsah elementu <tt class="sgmltag-element">word</tt> s&nbsp;hodnotou atributu
                     <tt class="sgmltag-attribute">class</tt> = "verb" a hodnotou atributu
                     <tt class="sgmltag-attribute">vderivation</tt> = "ptc" se upraví –
                     koncový segment se nahradí segmentem „<span class="quote">ptc</span>“ (bližší popis této
                     úpravy je uveden v&nbsp;poznámce k&nbsp;fázi&nbsp;10).
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output09.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  35 (tj. 62.5 %) z celkového poètu 56
  &lt;word class="nominal" pattern="m1" case="2"
    number="pl"&gt;pacient&lt;/word&gt;,
  &lt;word class="nominal" pattern="a1rma"
    number="pl"&gt;který&lt;/word&gt;
  &lt;word class="verb" pattern="v3" number="pl"&gt;má&lt;/word&gt; 
  cholesterol 200–259 mmg a 
  &lt;word class="verb" pattern="v3" number="pl"&gt;má&lt;/word&gt;
  triglyceridy 160–194 mm,
  &lt;word class="verb" pattern="v2" number="qpl"&gt;kouøí&lt;/word&gt;
  21 a více let.
&lt;/sentence&gt;</pre></dd>
                        <dt><span class="term">Poznámky: Tvorba pøíèestí</span></dt>
                        <dd>
                           <p>
                              Sloveso, ze kterého má být utvoøeno pøíèestí, je obsahem elementu
                              <tt class="sgmltag-element">word</tt>, který obsahuje atribut
                              <tt class="sgmltag-attribute">vderivation</tt>:
                              
                           </p><pre class="programlisting">&lt;word class="verb" pattern="v3" vderivation="ptc"&gt;má&lt;/word&gt;</pre><p>
                              Vytvoøení pøíèestí probíhá následovnì:
                              
                           </p>
                           <div class="orderedlist">
                              <ol type="1">
                                 <li>
                                    <p>Nalezne se element <tt class="sgmltag-element">pattern</tt>
                                       v&nbsp;souboru <tt class="filename">mv.xml</tt> se jménem shodným s&nbsp;hodnotou
                                       atributu <tt class="sgmltag-attribute">pattern</tt> elementu
                                       <tt class="sgmltag-element">word</tt>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Vybere se hodnota elementu
                                       <tt class="sgmltag-element">base</tt> obsaženého v&nbsp;elementu
                                       <tt class="sgmltag-element">pattern</tt>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Vybere se hodnota elementu
                                       <tt class="sgmltag-element">ptc</tt> obsaženého v&nbsp;elementu
                                       <tt class="sgmltag-element">pattern</tt>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Vybere se hodnota elementu
                                       <tt class="sgmltag-element">ptcpattern</tt> obsaženého v&nbsp;elementu
                                       <tt class="sgmltag-element">pattern</tt>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Hodnota <span class="emphasis"><em>ptcpattern</em></span> se zøetìzí s&nbsp;hodnotou
                                       uvedenou v&nbsp;entitním odkazu ze souboru <tt class="filename">entitynames.xml</tt>,
                                       který má atribut <tt class="sgmltag-attribute">symbol</tt> nastaven na
                                       hodnotu „<span class="quote">EPtcPatternSuffix</span>“. Tato hodnota mùže být prázdná.
                                       
                                    </p>
                                 </li>
                                 <li>
                                    <p>Od upravovaného slovesa „<span class="quote">má</span>“ ubereme koncový
                                       segment <span class="emphasis"><em>base</em></span> a pøipojíme koncový segment
                                       <span class="emphasis"><em>ptc</em></span>: má &#8658; m + ající.
                                       
                                    </p>
                                 </li>
                                 <li>
                                    <p>Vytvoøené pøíèestí je ještì nutno upravit v&nbsp;další fázi
                                       podle vzoru <span class="emphasis"><em>ptcpattern</em></span>
                                       ze souboru <tt class="filename">mn.xml</tt>. Výsledkem transformace je:
                                       
                                    </p><pre class="programlisting">&lt;word class="nominal" pattern="a2ma"&gt;mající&lt;/word&gt;</pre><p>
                                       (Element <tt class="sgmltag-element">word</tt> mùže samozøejmì obsahovat
                                       atributy <tt class="sgmltag-attribute">case</tt> a 
                                       <tt class="sgmltag-attribute">number</tt>, které by se pøipojily.)
                                       
                                    </p>
                                 </li>
                              </ol>
                           </div>
                        </dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2299"></a>7.3.12. Fáze 11
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;této skoro finální fázi se upraví obsah elementù
                     <tt class="sgmltag-element">word</tt> podle hodnot atributù
                     <tt class="sgmltag-attribute">case</tt> a 
                     <tt class="sgmltag-attribute">number</tt>. Úprava probíhá v&nbsp;tìchto
                     krocích:
                  </p>
                  <p>
                     Upravujeme napø.&nbsp;toto slovo:
                     
                  </p><pre class="programlisting">&lt;word class="nominal" pattern="m1" case="2" number="pl"&gt;pacient&lt;/word&gt;</pre><div class="orderedlist">
                     <ol type="1">
                        <li>
                           <p>Nalezne se element <tt class="sgmltag-element">pattern</tt>
                              v&nbsp;souboru <tt class="filename">mn.xml</tt> se jménem shodným s&nbsp;hodnotou
                              atributu <tt class="sgmltag-attribute">pattern</tt> elementu
                              <tt class="sgmltag-element">word</tt>.
                           </p>
                        </li>
                        <li>
                           <p>Vybere se základní koncový segment <span class="emphasis"><em>base</em></span>:
                              obsah prvního elementu <tt class="sgmltag-element">endsegment</tt>.
                              
                           </p>
                        </li>
                        <li>
                           <p>Vybere se hodnota elementu
                              <tt class="sgmltag-element">endsegment</tt> – nový koncový segment
                              <span class="emphasis"><em>new</em></span> – se stejnou hodnotou atributù
                              <tt class="sgmltag-attribute">case</tt> a <tt class="sgmltag-attribute">number</tt>
                              jako mají tyto atributy v&nbsp;elementu 
                              <tt class="sgmltag-attribute">word</tt>. Pokud není k&nbsp;dispozici
                              hodnota atributu <tt class="sgmltag-attribute">number</tt>, nastaví se 
                              na hodnotu „<span class="quote">sg</span>“. Pokud není k&nbsp;dispozici
                              hodnota atributu <tt class="sgmltag-attribute">case</tt>, vybere se jako
                              hodnota case hodnota prvního atributu <tt class="sgmltag-attribute">case</tt>.
                              Pokud není k&nbsp;dispozici ani <tt class="sgmltag-attribute">number</tt>
                              ani <tt class="sgmltag-attribute">case</tt>, tak se slovo ponechá
                              v&nbsp;tom tvaru, ve kterém je uvedeno.
                           </p>
                        </li>
                        <li>
                           <p>Od upravovaného slova „<span class="quote">pacient</span>“ ubereme koncový
                              segment <span class="emphasis"><em>base</em></span> a pøipojíme koncový segment 
                              <span class="emphasis"><em>new</em></span>: pacient &#8658; pacientù (základní koncový segment
                              <span class="emphasis"><em>base</em></span> je v&nbsp;tomto pøípadì prázdný).
                              Výsledkem transformace je upravené slovo:
                           </p><pre class="programlisting">pacientù</pre></li>
                     </ol>
                  </div>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output10.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;
  35 (tj. 62.5 %) z celkového poètu 56
  pacientù, kteøí
  mají cholesterol 200–259 mmg a mají triglyceridy
  160–194 mm,
  kouøí 21 a více let.
&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2409"></a>7.3.13. Fáze 12
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     V&nbsp;tomto kroku se pøevede první písmeno vìty na velké, odstraní se
                     pøebyteèné mezery a nahradí se desetinná teèka desetinnou èárkou, resp. symbolem
                     uvedeným v&nbsp;parametru <i class="parameter"><tt>decimal.point.symbol</tt></i> (soubor
                     <tt class="filename">langparam.xml</tt>).
                     
                  </p>
                  <div class="important" style="margin-left: 0.5in; margin-right: 0.5in;">
                     <h3 class="title">Dùležité</h3>
                     <p>
                        Zmìna desetinného symbolu se provede u&nbsp;všech øetìzcù vyhovujících výrazu
                        „<span class="quote">.d</span>“, kde <span class="emphasis"><em>d</em></span> je celé èíslo z&nbsp;intervalu
                        0–9. Nìkdy se mùže stát, že si u&nbsp;nìkterých øetìzcù nebudeme pøát
                        tuto úpravu.
                        
                     </p>
                  </div>
                  <p>
                     Uživatel mùže v&nbsp;konfiguraèním souboru <tt class="filename">config.xsl</tt>
                     nastavit parametr <i class="parameter"><tt>_show</tt></i> tak, aby se na výstupu vypisovaly
                     všechny vìty, a nebo aby se vypisovaly pouze správnì pøevedené –
                     v&nbsp;této fázi probìhne pøípadná selekce. (Standardnì se vypisují všechny
                     vìty.)
                     
                  </p>
                  <div class="variablelist">
                     <dl>
                        <dt><span class="term">Vstup – výstup pøedchozí fáze:</span></dt>
                        <dd>
                           <p><tt class="filename">output11.xml</tt></p>
                        </dd>
                        <dt><span class="term">Výstup:</span></dt>
                        <dd><pre class="programlisting">&lt;sentence&gt;35 (tj. 62,5 %) z celkového poètu 56 pacientù,
kteøí mají cholesterol 200–259 mmg a mají triglyceridy 160–194 mm,
kouøí 21 a více let.&lt;/sentence&gt;</pre></dd>
                     </dl>
                  </div>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="d0e2451"></a>7.3.14. Fáze phase2txt
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Tato fáze (jak øíká její název) pøevede XML soubor <tt class="filename">output12.xml</tt>
                     do koneèného textového výstupního souboru <tt class="filename">output.txt</tt>.
                     
                  </p>
               </div>
               <div class="sect3" lang="cs">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h4 class="title"><a id="sec.random"></a>7.3.15. Výbìr náhodných hodnot
                           </h4>
                        </div>
                     </div>
                     <div></div>
                  </div>
                  <p>
                     Pøi transformaci pravidla do pøirozeného jazyka obèas vybíráme nìjakou hodnotu
                     (element, øetìzec) z&nbsp;nìjaké množiny. Napøíklad u&nbsp;elementu
                     <tt class="sgmltag-element">optionaltext</tt> se rozhodujeme, zda text ponechat
                     èi nikoli – k&nbsp;tomu potøebujeme nìjaký mechanismus, který výbìr provede.
                     Souèástí tohoto „<span class="quote">mechanismu</span>“ je soubor <tt class="filename">randomness.xml</tt>
                     jehož obsah je následující: 
                     
                  </p><pre class="programlisting">&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;randomness&gt;
  &lt;random number="1" lastvalue="1"/&gt;
  &lt;random number="2" lastvalue="1"/&gt;
  &lt;random number="3" lastvalue="3"/&gt;
  &lt;random number="4" lastvalue="3"/&gt;
  &lt;random number="5" lastvalue="4"/&gt;
  &lt;random number="6" lastvalue="3"/&gt;
  &lt;random number="7" lastvalue="7"/&gt;
  &lt;random number="8" lastvalue="7"/&gt;
  &lt;random number="9" lastvalue="3"/&gt;
  &lt;random number="10" lastvalue="9"/&gt;
  &lt;random number="11" lastvalue="3"/&gt;
  &lt;random number="12" lastvalue="3"/&gt;
&lt;/randomness&gt;</pre><p>
                     Význam elementu <tt class="sgmltag-element">random</tt> je tento: atribut
                     <tt class="sgmltag-attribute">number</tt> obsahuje poèet hodnot
                     v&nbsp;množinì, ze které provádíme výbìr prvku a atribut 
                     <tt class="sgmltag-attribute">lastvalue</tt> obsahuje poøadové èíslo
                     prvku, který zvolit.
                  </p>
                  <p>
                     Pøíklad: Pøi volbì, zda ponechat <tt class="sgmltag-element">optionaltext</tt>,
                     se jedná o&nbsp;výbìr z&nbsp;dvouprvkové množiny (ponechat, neponechat). Program
                     tedy zjistí hodnotu atributu <tt class="sgmltag-attribute">lastvalue</tt>
                     elementu <tt class="sgmltag-element">random</tt>, který má hodnotu atributu
                     <tt class="sgmltag-attribute">number</tt>&nbsp;=&nbsp;2 –
                     v&nbsp;ukázce je vidìt, že hodnota je „<span class="quote">1</span>“, která znaèí ponechat.
                     Obdobnì by se postupovalo, pokud by se provádìl výbìr napø.&nbsp;z&nbsp;pìti
                     elementù (dozvíme se, že se má zvolit ètvrtý element).
                     
                  </p>
                  <p>
                     Obsah atributù <tt class="sgmltag-attribute">lastvalue</tt> je potøeba na
                     konci každé transformace zvýšit o&nbsp;1, pøièemž hodnota nesmí být po zvýšení
                     vyšší než hodnota atributu <tt class="sgmltag-attribute">number</tt>
                     (v&nbsp;opaèném pøípadì se <tt class="sgmltag-attribute">lastvalue</tt> nastaví
                     na „<span class="quote">1</span>“). Tuto úpravu souboru <tt class="filename">randomness.xml</tt>
                     provádí styl <tt class="filename">set-random.xml</tt>.
                     
                  </p>
               </div>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.ex"></a>8. Program Expressions
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <p>Program <span class="application">Expressions</span> generuje na základì
               dat v&nbsp;metabázi systému LISp-Miner kostru
               datového souboru <tt class="filename">elementary.xml</tt>, který obsahuje
               tzv.elementární výrazy.
            </p>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.ex.io"></a>8.1. Vstupy a výstupy
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Program se spouští z&nbsp;pøíkazové øádky tímto pøíkazem:</p>
               <div class="cmdsynopsis">
                  <p><tt class="command">expressions</tt>   -DSN <i class="replaceable"><tt>datasourcename</tt></i> 
                  </p>
               </div>
               <p>Význam parametrù:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p><i class="parameter"><tt>DSN</tt></i> – jméno datového zdroje odkazujícího
                           na metabázi, ze které chceme èerpat data.
                        </p>
                     </li>
                  </ul>
               </div>
               <p>Vstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>Metabáze systému LISp-Miner.</p>
                     </li>
                  </ul>
               </div>
               <p>Výstup:</p>
               <div class="itemizedlist">
                  <ul type="disc">
                     <li>
                        <p>XML soubor <tt class="filename">elementary.xml</tt>.
                        </p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.ex.alg"></a>8.2. Algoritmus
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Algoritmus programu Expressions:</p>
               <div class="orderedlist">
                  <ol type="1">
                     <li>
                        <p>TRY</p>
                        <div class="orderedlist">
                           <ol type="1">
                              <li>
                                 <p>Zkontroluj pøedané parametry.</p>
                              </li>
                              <li>
                                 <p>Zkontroluj hodnoty parametrù.</p>
                              </li>
                              <li>
                                 <p>Vytvoø spojení s&nbsp;databází.</p>
                              </li>
                              <li>
                                 <p>Naèti ID všech kvantit v&nbsp;metabázi</p>
                              </li>
                              <li>
                                 <p>Pro všechny kvantity:</p>
                                 <div class="orderedlist">
                                    <ol type="1">
                                       <li>
                                          <p>Naèti údaje o&nbsp;kvantitì a ulož je do
                                             	  promìnné.
                                          </p>
                                       </li>
                                    </ol>
                                 </div>
                              </li>
                              <li>
                                 <p>Pøiprav hlavièku XML souboru.</p>
                              </li>
                              <li>
                                 <p>Pøipoj k&nbsp;XML souboru údaje o&nbsp;kvantitách.</p>
                              </li>
                              <li>
                                 <p>Pøeveï kódování výstupu do UTF-8.
                                    
                                 </p>
                              </li>
                              <li>
                                 <p>Ulož XML soubor.</p>
                              </li>
                              <li>
                                 <p>Zruš spojení s&nbsp;databází.</p>
                              </li>
                           </ol>
                        </div>
                     </li>
                     <li>
                        <p>CATCH</p>
                        <div class="orderedlist">
                           <ol type="1">
                              <li>
                                 <p>Zruš spojení s&nbsp;databází.</p>
                              </li>
                              <li>
                                 <p>Vypiš chybu na standardní výstup.</p>
                              </li>
                           </ol>
                        </div>
                     </li>
                  </ol>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.ex.globalarch"></a>8.3. Globální architektura
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <p>Program Expressions využívá tyto tøídy:</p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term"><tt class="classname">Category</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;kategorii kvantity.</p>
                     </dd>
                     <dt><span class="term"><tt class="classname">DB</tt></span></dt>
                     <dd>
                        <p>Tøída zprostøedkovává a ruší spojení s&nbsp;databází.</p>
                     </dd>
                     <dt><span class="term"><tt class="classname">Quantity</tt></span></dt>
                     <dd>
                        <p>Tøída uchovává údaje o&nbsp;kvantitì.</p>
                     </dd>
                  </dl>
               </div>
               <p>Na obrázku <a href="#pic02" title="Obrázek 2. Objektový model programu Expressions">2 – „Objektový model programu Expressions“</a> je zachycen objektový model
                  (bez tøídy <tt class="classname">DB</tt>).
                  
               </p>
               <div class="figure"><a id="pic02"></a><p class="title"><b>Obrázek 2. Objektový model programu Expressions</b></p>
                  <div class="mediaobject"><img src="objekt-mod-express.png" alt="Objektový model"></img></div>
               </div>
            </div>
         </div>
         <div class="sect1" lang="cs">
            <div class="titlepage">
               <div>
                  <div>
                     <h2 class="title" style="clear: both"><a id="sec.class"></a>9. Pøehled tøíd
                     </h2>
                  </div>
               </div>
               <div></div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.arule"></a>9.1. Tøída ARule
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_quantifier&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Kvantifikátor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_hypno&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Identifikaèní èíslo hypotézy.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">Cedent&nbsp;</span><span class="varname">m_antecedent&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Antecedent pravidla.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">Cedent&nbsp;</span><span class="varname">m_succedent&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Sukcedent pravidla.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">Cedent&nbsp;</span><span class="varname">m_condition&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Podmínka pravidla.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;Param&gt;&nbsp;</span><span class="varname">m_p&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Vektor parametrù pravidla.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">ARule</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">hypno</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">ARule</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectQuantifier</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno kvantifikátoru.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vytiskne pravidlo (do promìnné, kterou vrací).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">bool&nbsp;</span><span class="methodname">check</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací <span class="emphasis"><em>true</em></span>, pokud je systém schopen
                           pravidlo pøevést do pøirozeného jazyka.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">convert</span>(<span class="methodparam"><span class="type">const char&nbsp;</span><span class="parameter">text</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">char&nbsp;</span><span class="parameter">from</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">char&nbsp;</span><span class="parameter">to</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda pøevede øetìzec <tt class="varname">text</tt> z&nbsp;kódování
                           <tt class="varname">from</tt> do kódování <tt class="varname">to</tt>. Pøi pøevodu
                           se využívá knihovna iconv. Maximální délka výstupního øetìzce je omezena
                           (viz promìnná <tt class="varname">buf</tt> ve zdrojovém kódu).
                           
                        </p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.category"></a>9.2. Tøída Category
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_ID&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Èíslo kategorie v&nbsp;metabázi.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_value&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Hodota kkategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_meaning&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">valueSubType</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Datový typ hodnoty kategorie (float, string, …).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectMeaning</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno (význam) kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectValueSubType</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací datový typ hodnoty kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectCategorySubType</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací typ kategorie (interval, enumeration).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;string&gt;&nbsp;</span><span class="methodname">selectEnumValue</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací vektor hodnot patøících do kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectIntValueFrom</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací dolní mez intervalu tvoøícího kategorii.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectIntValueTo</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací horní mez intervalu tvoøícího kategorii.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">htmlSpecialChars</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">text</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda nahradí znaky „<span class="quote">&lt;</span>“, „<span class="quote">&gt;</span>“ a
                           „<span class="quote">&amp;</span>“ v&nbsp;øetìzci <tt class="varname">text</tt> odpovídajícími
                           entitami „<span class="quote">&amp;lt;</span>“, „<span class="quote">&amp;gt;</span>“ a
                           „<span class="quote">&amp;amp;</span>“.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">cutZero</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">value</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda odstraní „<span class="quote">zbyteènou</span>“ nulu za desetinou èárkou:
                           „<span class="quote">24.0</span>“ &#8658; „<span class="quote">24</span>“.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">int&nbsp;</span><span class="methodname">strCmp</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s1</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s2</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Funkce vrací 0, pokud jsou øetìzce <tt class="varname">s1</tt> a 
                           <tt class="varname">s2</tt> stejné. Porovnání se provádí bez ohledu na velikost
                           písmen (case-insensitive).
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Category</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">categoryID</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Category</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetezec s&nbsp;XML popisem kategorie.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.cedent"></a>9.3. Tøída Cedent
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_type&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Typ cedentu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;Literal&gt;&nbsp;</span><span class="varname">m_literals&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Vektor literálù v&nbsp;cednetu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_hypno&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>ID èíslo hypotézy.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;string&gt;&nbsp;</span><span class="methodname">selectLiteralID</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací vektor ID èísel literálù patøících do cedentu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Cedent</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Cedent</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">bool&nbsp;</span><span class="methodname">check</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací <span class="emphasis"><em>true</em></span>, pokud je systém schopen pøevést
                           cedent do pøirozeného jazyka.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetìzec s&nbsp;XML popisem cedentu.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.coeff"></a>9.4. Tøída Coefficient
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_category&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_value&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Hodnota kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_cID&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>ID koeficientu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_valueSubType&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Typ hodnoty (float, string, …).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_categorySubType&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Typ kategorie (interval, enumeration).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectCategoryName</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectValueSubType</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací typ (float, string, …) hodnoty koeficientu,
                           resp. atributu, ze kterého byla odvezena kategorie.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectCategorySubType</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací typ kategorie (interval nebo enumerace).</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;string&gt;&nbsp;</span><span class="methodname">selectEnumValue</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací vektor všch hodnot patøících do kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectIntValueFrom</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací hodnotu „<span class="quote">od</span>“ intervalu.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectIntValueTo</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací hodnotu „<span class="quote">do</span>“ intervalu.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">htmlSpecialChars</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">text</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda nahradí znaky „<span class="quote">&lt;</span>“, „<span class="quote">&gt;</span>“ a
                           „<span class="quote">&amp;</span>“ v&nbsp;øetìzci <tt class="varname">text</tt> odpovídajícími
                           entitami „<span class="quote">&amp;lt;</span>“, „<span class="quote">&amp;gt;</span>“ a
                           „<span class="quote">&amp;amp;</span>“.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">cutZero</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">value</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda odstraní „<span class="quote">zbyteènou</span>“ nulu za desetinou èárkou:
                           „<span class="quote">24.0</span>“ &#8658; „<span class="quote">24</span>“.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">int&nbsp;</span><span class="methodname">strCmp</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s1</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s2</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Funkce vrací 0, pokud jsou øetìzce <tt class="varname">s1</tt> a 
                           <tt class="varname">s2</tt> stejné. Porovnání se provádí bez ohledu na velikost
                           písmen (case-insensitive).
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Coefficient</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">cedentID</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Coefficient</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetìzec s&nbsp;XML popisem koeficientu.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.db"></a>9.5. Tøída DB
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">static&nbsp;</span><span class="modifier">public&nbsp;</span><span class="type">HENV&nbsp;</span><span class="varname">hEnv&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Environment handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">static&nbsp;</span><span class="modifier">public&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">hDBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">static&nbsp;</span><span class="modifier">public&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">hStmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">static&nbsp;</span><span class="modifier">public&nbsp;</span><span class="void">void&nbsp;</span><span class="methodname">init</span>(<span class="methodparam"><span class="type">char&nbsp;</span><span class="parameter">dsn</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">char&nbsp;</span><span class="parameter">user</span><span class="initializer">=&nbsp;NULL</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">char&nbsp;</span><span class="parameter">password</span><span class="initializer">=&nbsp;NULL</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vytvoøí pøipojení k&nbsp;datovému zdroji.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">static&nbsp;</span><span class="modifier">public&nbsp;</span><span class="void">void&nbsp;</span><span class="methodname">destroy</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda zruší spojení s&nbsp;databází.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.literal"></a>9.6. Tøída Literal
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_quantity&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno kvantity tvoøící literál.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_minLen&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Minimální délka literálu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_maxLen&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Maximální délka literálu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_coeffType&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Typ koeficientu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_attribute&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno atributu, ze kterého byla odvozena kvantita.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;Coefficient&gt;&nbsp;</span><span class="varname">m_coefficients&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Vektor koeficientù patøících do literálu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;string&gt;&nbsp;</span><span class="methodname">selectCategoryID</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">hypno</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">literalID</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací vektor ID èísel kategorií patøících do literálu.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">int&nbsp;</span><span class="methodname">strCmp</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s1</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">s2</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Funkce vrací 0, pokud jsou øetìzce <tt class="varname">s1</tt> a 
                           <tt class="varname">s2</tt> stejné. Porovnání se provádí bez ohledu na velikost
                           písmen (case-insensitive).
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Literal</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Literal</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">hypno</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">literalID</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Literal</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">bool&nbsp;</span><span class="methodname">check</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací <span class="emphasis"><em>true</em></span>, pokud je systém schopen pøevést
                           daný typ literálu do pøirozeného jazyka.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetìzec s&nbsp;XML popisem literálu.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.metabase"></a>9.7. Tøída Metabase
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Metabase</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Metabase</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectDomain</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno adresáøe, který obsahuje doménová data (parametr
                           <i class="parameter"><tt>4ftAR2NL_Domain</tt></i>
                           v&nbsp;tabulce<span class="database">tpParamsDB</span>).
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectExpression</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno adresáøe, který obsahuje tzv.&nbsp;elementární
                           výrazy (parametr <i class="parameter"><tt>4ftAR2NL_Express</tt></i>
                           v&nbsp;tabulce<span class="database">tpParamsDB</span>).
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectLang</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací kód jazyka, do kterého se má pravidlo pøevést
                           (parametr <i class="parameter"><tt>4ftAR2NL_Lang</tt></i>
                           v&nbsp;tabulce<span class="database">tpParamsDB</span>).
                        </p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.param"></a>9.8. Tøída Param
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_name&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno parametru.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">double&nbsp;</span><span class="varname">m_value&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Hodnota parametru.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">double&nbsp;</span><span class="methodname">selectFrequency</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">freqName</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">hypno</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací hodnotu frekvence ze ètyøpolní tabulky.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Param</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">paramName</span></span>,<br></br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">hypno</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Param</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetìzec s&nbsp;XML popisem parametru.</p>
                     </dd>
                  </dl>
               </div>
            </div>
            <div class="sect2" lang="cs">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a id="sec.class.quantity"></a>9.9. Tøída Quantity
                        </h3>
                     </div>
                  </div>
                  <div></div>
               </div>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HDBC&nbsp;</span><span class="varname">m_DBC&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database connection handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">HSTMT&nbsp;</span><span class="varname">m_Stmt&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Database statement handle.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_ID&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Èíslo kvantity v&nbsp;metabázi.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_attrName&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno atributu, ze kterého byla kvantita odvozena.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="varname">m_meaning&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Jméno kvantity.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="fieldsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;Category&gt;&nbsp;</span><span class="varname">m_c&nbsp;</span>;</code>
                             </span></dt>
                     <dd>
                        <p>Vektor kategorií patøících do kvantity.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectAttrName</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno atributu, ze kterého byla odvozena kategorie.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">selectMeaning</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací jméno (význam) kvantity.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">vector&lt;string&gt;&nbsp;</span><span class="methodname">selectCategoryID</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací vektor ID kategorií patøících do kvantity.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">private&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">htmlSpecialChars</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">text</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Metoda nahradí znaky „<span class="quote">&lt;</span>“, „<span class="quote">&gt;</span>“ a
                           „<span class="quote">&amp;</span>“ v&nbsp;øetìzci <tt class="varname">text</tt> odpovídajícími
                           entitami „<span class="quote">&amp;lt;</span>“, „<span class="quote">&amp;gt;</span>“ a
                           „<span class="quote">&amp;amp;</span>“.
                        </p>
                     </dd>
                     <dt><span class="term">
                               <code class="constructorsynopsis"><span class="methodname">Quantity</span>(<span class="methodparam"><span class="type">string&nbsp;</span><span class="parameter">quantityID</span></span>);</code>
                             </span></dt>
                     <dd>
                        <p>Konstruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="destructorsynopsis"><span class="methodname">Quantity</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Destruktor.</p>
                     </dd>
                     <dt><span class="term">
                               <code class="methodsynopsis"><span class="modifier">public&nbsp;</span><span class="type">string&nbsp;</span><span class="methodname">print</span>();</code>
                             </span></dt>
                     <dd>
                        <p>Metoda vrací øetìzec s&nbsp;XML popisem quantity.</p>
                     </dd>
                  </dl>
               </div>
            </div>
         </div>
         <div class="appendix" lang="cs">
            <h2 class="title" style="clear: both"><a id="d0e4537"></a>A.&nbsp;DTD pro lingvistická data
            </h2><pre class="programlisting">&lt;!-- AR2NL DTD 1.1 --&gt;

&lt;!-- This is DTD for data of the AR2NL system. 
     Please use the following formal public identifier to
     identify it:
     
     "-//LISp-Miner//DTD AR2NL 1.1//EN"
     
     If your document's top-level element is Formulation
     pattern, use this DOCTYPE declaration:
     
     &lt;!DOCTYPE formulationpatterns
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
     	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
	
     If your document's top-level element is Auxiliary symbol,
     use this DOCTYPE declaration:
     
     &lt;!DOCTYPE auxiliarysymbols
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
	
     If your document's top-level element is pattern for nouns,
     use this DOCTYPE declaration:
     
     &lt;!DOCTYPE mnpatterns
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
     
     If your document's top-level element is pattern for verbs,
     use this DOCTYPE declaration:
     
     &lt;!DOCTYPE mvpatterns
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
     
     If your document's top-level element is Entity,
     use this DOCTYPE declaration:
     
     &lt;!DOCTYPE entitynames
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
     
     If your document's top-level element is Elementary
     expression, use this DOCTYPE declaration:
     
     &lt;!DOCTYPE elementaryexpressions
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
     	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;
     
     If your document's top-level element is file with language
     parameters, use this DOCTYPE declaration:
     
     &lt;!DOCTYPE langparameters
        PUBLIC "-//LISp-Miner//DTD AR2NL 1.1//EN"
     	"http://lispminer.vse.cz/dtd/ar2nl-1.1.dtd"&gt;

--&gt;


&lt;!-- entities --&gt;

&lt;!ENTITY % directive
           "case   (1|2|3|4|5|6|7|_|nom|gen|par|ess|tra|ine|
                    ela|ill|ade|abl|all|abe|kom|ins) #IMPLIED
            number (sg|pl|qpl|_) #IMPLIED"&gt;

&lt;!ENTITY % entity.symbol "symbol (E|Edefart|Edemonstr|Eid1|
    Eid2|Eindefart|Epers|Eptc0|Eptc1|Erel|EPtcPatternSuffix)
    #REQUIRED"&gt;

&lt;!ENTITY % fpa.symbol "symbol (X|Y|Z) #REQUIRED"&gt;

&lt;!ENTITY % role.symbol "role (A|S) #REQUIRED"&gt;

&lt;!ENTITY % numofant "numofant CDATA #REQUIRED"&gt;
&lt;!ENTITY % numofsuc "numofsuc CDATA #REQUIRED"&gt;

&lt;!-- common elements --&gt;

&lt;!ELEMENT literal EMPTY&gt;
&lt;!ATTLIST literal %role.symbol;
                  typeofphrase (L|N|R|V|NA) #REQUIRED
                  %directive;
                  vderivation  (ptc) #IMPLIED&gt;

&lt;!ELEMENT word (#PCDATA)&gt;
&lt;!ATTLIST word pattern CDATA #REQUIRED
               class (nominal|verb) #REQUIRED&gt;

&lt;!ELEMENT optionaltext (#PCDATA|choosetext)*&gt;

&lt;!ELEMENT choosetext (variant+)&gt;

&lt;!ELEMENT variant (#PCDATA)&gt;

&lt;!ELEMENT param EMPTY&gt;
&lt;!ATTLIST param name (B|P|T|N) #REQUIRED&gt;

&lt;!ELEMENT ename EMPTY&gt;
&lt;!ATTLIST ename %entity.symbol;
                %directive;&gt;

&lt;!ELEMENT floatslot EMPTY&gt;
&lt;!ATTLIST floatslot id CDATA #REQUIRED
                    %role.symbol;
                    occno (first|last) #REQUIRED&gt;

&lt;!-- formulation patterns --&gt;

&lt;!ELEMENT formulationpatterns (fp*)&gt;

&lt;!ELEMENT fp (#PCDATA|choosetext|ename|floatslot|fpa|literal|
              optionaltext|param)*&gt;
&lt;!ATTLIST fp id         ID          #REQUIRED
             quantifier (AAI|FUI)   #REQUIRED
             %numofant;
             %numofsuc;&gt;

&lt;!ELEMENT fpa EMPTY&gt;
&lt;!ATTLIST fpa %fpa.symbol;
              %directive;&gt;

&lt;!-- entities --&gt;

&lt;!ELEMENT entitynames (enamedata*)&gt;

&lt;!ELEMENT enamedata (#PCDATA|word)*&gt;
&lt;!ATTLIST enamedata id ID #REQUIRED
                    %entity.symbol;&gt;

&lt;!-- fpa - Formulation Patterns - Auxiliary --&gt;

&lt;!ELEMENT auxiliarysymbols (fpadata*)&gt;

&lt;!ELEMENT fpadata (#PCDATA|choosetext|ename|floatslot|fpa|
                   literal|optionaltext|param)*&gt;
&lt;!ATTLIST fpadata id ID #REQUIRED
                  %fpa.symbol;
                  %numofant;
                  %numofsuc;&gt;

&lt;!-- elementary expressions --&gt;

&lt;!ELEMENT elementaryexpressions (expression*)&gt;

&lt;!ELEMENT expression (mbattribute, meaning,
                      (APinv|NPinv|VPinv)*, categories)&gt;
&lt;!ATTLIST expression id ID #REQUIRED&gt;

&lt;!ELEMENT mbattribute (#PCDATA)&gt;

&lt;!ELEMENT meaning (#PCDATA)&gt;

&lt;!ELEMENT VPinv (#PCDATA|float|param|word)*&gt;
&lt;!ELEMENT APinv (#PCDATA|float|param|word)*&gt;
&lt;!ELEMENT NPinv (#PCDATA|float|param|word)*&gt;

&lt;!ELEMENT categories (category+)&gt;

&lt;!ELEMENT category (value, meaning, adjphrase*, nounphrase*,
                    NAF*, verbphrase*)&gt;

&lt;!ELEMENT value (#PCDATA)&gt;

&lt;!ELEMENT adjphrase (#PCDATA|APinv|float|param|word)*&gt;
&lt;!ATTLIST adjphrase relposition (R|L) #REQUIRED&gt;

&lt;!ELEMENT nounphrase (#PCDATA|float|NPinv|param|word)*&gt;
&lt;!ATTLIST nounphrase %directive;&gt;

&lt;!ELEMENT NAF (#PCDATA|nounphrase)*&gt;

&lt;!ELEMENT verbphrase (#PCDATA|float|param|ptcmod|ptcmodslot|
                      VPinv|word)*&gt;

&lt;!ELEMENT float (#PCDATA)&gt;
&lt;!ATTLIST float id CDATA #REQUIRED&gt;

&lt;!ELEMENT ptcmod (#PCDATA|param|VPinv|word)*&gt;
&lt;!ATTLIST ptcmod id CDATA #REQUIRED&gt;

&lt;!ELEMENT ptcmodslot EMPTY&gt;
&lt;!ATTLIST ptcmodslot id CDATA #REQUIRED&gt;

&lt;!-- common elements for patterns in MN and MV --&gt;

&lt;!ELEMENT pattern (example, (endsegment*|(base, pl, qpl?, ptc,
                   ptcpattern?)))&gt;
&lt;!ATTLIST pattern name   CDATA #REQUIRED&gt;

&lt;!ELEMENT endsegment (#PCDATA)&gt;
&lt;!ATTLIST endsegment case   (1|2|3|4|5|6|7|nom|gen|par|ess|tra|
              ine|ela|ill|ade|abl|all|abe|kom|ins) #IMPLIED
                     number (sg|pl) #REQUIRED&gt;
		     
&lt;!ELEMENT base (#PCDATA)&gt;
&lt;!ELEMENT pl (#PCDATA)&gt;
&lt;!ELEMENT qpl (#PCDATA)&gt;
&lt;!ELEMENT ptc (#PCDATA)&gt;
&lt;!ATTLIST ptc recommended (yes|no) "yes"&gt;
&lt;!ELEMENT ptcpattern (#PCDATA)&gt;
&lt;!ELEMENT example (#PCDATA)&gt;

&lt;!-- MN patterns --&gt;

&lt;!ELEMENT mnpatterns (pattern*)&gt;

&lt;!-- MV patterns --&gt;

&lt;!ELEMENT mvpatterns (pattern*)&gt;

&lt;!-- Language parameter --&gt;

&lt;!ELEMENT langparameters (langparam*)&gt;

&lt;!ELEMENT langparam EMPTY&gt;
&lt;!ATTLIST langparam name (conjunction|participle.position|
                          decimal.point.symbol) #REQUIRED
                    value CDATA #REQUIRED&gt;</pre></div>
         <div class="appendix" lang="cs">
            <h2 class="title" style="clear: both"><a id="d0e4544"></a>B.&nbsp;DTD pro asociaèní pravidlo
            </h2><pre class="programlisting">&lt;!-- Rule DTD 1.0 --&gt;

&lt;!-- This is DTD for asociation rule of the LISp-Miner system.
     Please use the following formal public identifier to identify it:
     
     "-//LISp-Miner//DTD Rule 1.0//EN"
     
     and this DOCTYPE declaration:
     
     &lt;!DOCTYPE rule PUBLIC "-//LISp-Miner//DTD Rule 1.0//EN"
	"http://lispminer.vse.cz/dtd/rule-1.0.dtd"&gt;

--&gt; 

&lt;!ELEMENT rule (cedent+,parameters?)&gt;
&lt;!ATTLIST rule id         CDATA  #REQUIRED
               quantifier (FUI)   #REQUIRED&gt;

&lt;!ELEMENT cedent (literal+)&gt;
&lt;!ATTLIST cedent type (A|S|C) #REQUIRED&gt;

&lt;!ELEMENT literal (coefficient)&gt;
&lt;!ATTLIST literal quantity        CDATA  #REQUIRED
                  minlen          CDATA  #REQUIRED
                  maxlen          CDATA  #REQUIRED
                  attribute       CDATA  #REQUIRED
                  coefftype (subset|one) #REQUIRED&gt;

&lt;!ELEMENT coefficient (value)&gt;

&lt;!ELEMENT value (#PCDATA)&gt;
&lt;!ATTLIST value category CDATA #REQUIRED&gt;

&lt;!ELEMENT parameters (param+)&gt;

&lt;!ELEMENT param EMPTY&gt;
&lt;!ATTLIST param name  CDATA #REQUIRED
                value CDATA #REQUIRED&gt;</pre></div>
      </div>
   </body>
</html>